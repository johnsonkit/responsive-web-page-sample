"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var c,o=t[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(){var a,c,o="./images",l=10,s=function(t,e){return n=(e||document).querySelectorAll(t),Array.prototype.slice.apply(n);var n},u=function(t,e){e.innerHTML=t},d=function(t,e){for(var n=0;n<t.length;n++){e(t[n])}};fetch("https://learn.accountingcpd.net/ACPD/API/Test/SampleObject").then(function(t){return t.json()}).then(function(t){c=a=t,e(),console.log("Fetch data successfully")}).catch(function(t){console.log(t.message)});var t=s(".header--nav")[0];s(".header--nav__icon")[0].addEventListener("click",function(){t.classList.toggle("active")});var f=s(".article--list")[0],p=function(t){return t.map(function(t,e){var n=t.imageSrc,r=_slicedToArray(n.split("."),2),i=[r[0],"@2x.",r[1]].join("");return'\n        <li class="article" data-type="'.concat(t.type,'" data-id="').concat(e,'" data-hide="true">\n            <div class="article--img">\n                <picture>\n                    <source media=\'(min-width: 1024px)\' srcset=\'').concat(o,"/").concat(n,"' />\n                    <img src='").concat(o,"/").concat(i,"' alt=\"").concat(t.altText,'" />\n                </picture>\n                <span class="article--img__ribbon">').concat(t.type,'</span>\n            </div>\n            <div class="article--text">\n                <h3 class="article--text__title">').concat(t.title,'</h3>\n                <p class="article--text__desc">').concat(t.description,'</p>\n                <p class="article--text__price"><strong>Price:</strong> Â£').concat(t.price,"</p>\n            </div>\n        </li>\n      ")}).join("")},v=function(t,e){console.log("unhideArticle(), articleStartIdx: ".concat(t,", articleEndIdx: ").concat(e));var n=s(".article").slice(t,e);d(n,function(t){t.removeAttribute("data-hide")})},e=function(){u(p(a),f),v(0,10),g()},n=function(){s(".js-load-article-btn")[0].setAttribute("data-hide","true")},g=function(){l>=c.length?n():s(".js-load-article-btn")[0].removeAttribute("data-hide")};s(".js-load-article-btn")[0].addEventListener("click",function(t){l+10<c.length?(v(l,l+10),l+=10,console.log("Load ".concat(10," articles"))):(v(l,c.length),n(),console.log("Load remaining articles"))}),s(".filter--nav")[0].addEventListener("click",function(t){if("A"===t.target.nodeName){var e=t.target,n=e.getAttribute("data-id"),r=s(".filter--nav a");if(l=10,d(r,function(t){t.classList.remove("active")}),e.classList.add("active"),"all"===n)c=a;else{var i=a.filter(function(t){return t.type===n});c=i}u(p(c),f),v(0,10),g(),h()}});var r=s(".sorting-article--select")[0],h=function(){s(".sorting-article--select")[0].selectedIndex=0};r.addEventListener("change",function(t){var e=t.target.value,n=c.slice(0);"title"===e?n.sort(function(t,e){var n=t.title.toUpperCase(),r=e.title.toUpperCase(),i=0;return r<n?i=1:n<r&&(i=-1),i}):"price"===e&&n.sort(function(t,e){return t.price-e.price}),u(p(n),f),v(0,10),g()})}();